<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="robots" content="noindex">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Neighborhood Map project - Alan Spiewak</title>
	<!-- Fonts from Google API, Twitter's Bootstrap from its recommended CDN -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css?family=Merriweather:400,300,400italic,700,900">
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="style.css">

</head> <!--  -->
<body>
	<div class="container-fluid">
		<div class="row " id="welcomeRow">
			<div class="col-xs-12" id="welcome">
				<p>Welcome to <span id="headerPlace">Greensboro, NC</span></p>
			</div>
		</div> <!-- welcomeRow -->
		<div class="row" id="mapRow">
			<div class="col-xs-12 col-md-3" id="nmvList"> <!-- Col holds list view of places -->
				<!-- Row box sits inside the outer column and acts as container
					 for stacked full-width "columns" that look like rows and
					 hold the list header and items -->
				<div class="row" id="nmvListHeaderRow">
					<div class="col-xs-12" id="nmvListHead">
						<p>List heading goes here</p>
					</div> <!-- #nmvListHead -->
				</div> <!-- #nmvListHeaderRow -->
				<div class="row" id="listBodyRow" data-bind="foreach: vPlaces">
					<!-- List item row is bound to a vPlace entry.
					Tooltip handling is adapted from
					http://www.w3schools.com/bootstrap/bootstrap_tooltip.asp
					-->
					<div class="col-xs-12 nmvListItem"
					data-bind="css: { highlight: hilite() == true }">
						<div data-bind="click: nmApp.viewModel.listItemClick"
						class="" title="Select/deselect this place to see more">
							<p class="listItemName" data-bind="text: name"></p>
							<p class="listItemaddress" data-bind="text: address"></p>
						</div>
						<button class="pinnedBtn"
						data-bind="text: pinned() ? 'Pinned' : 'Unpinned',
						click: nmApp.viewModel.pinnedClick"
						title="Pin/unpin this place to/from your list"></button>
						<button class="detailBtn" type="button"
							title="Show place details"
							data-bind="click: $root.openModal, visible: isCurrent">
							More
						</button>
					</div> <!-- .nmvListItem -->
				</div> <!-- #listBodyRow -->
			</div> <!-- #nmvList -->
			<div class="col-xs-12 col-md-9" id="nmvMap"> <!-- Map view -->
				<p>Map goes here</p>
			</div> <!-- nmvMap -->
		</div> <!-- mapRow -->
	</div> <!-- container -->
	<!-- Modal window for selected vPlace. Knockout and Bootstrap don't play
		 nice on data binding for modals, so this DIY solution is from
		 http://www.w3schools.com/howto/howto_css_modals.asp
		 Class names have been changed to protect us from bootstrap presets-->
	<div class="nmModal" role="dialog" id="placeDetails" data-bind="click: $root.closeModal">
		<div class="nmModalContent" data-bind="with: currentVPlace,
			click: $root.noOp,  clickBubble: false">
			<div class="nmModalHeader">
				<button type="button" class="modalCloseBtn" aria-hidden="true"
				data-bind="click: $root.closeModal">
				&times;</button>
				<h3>Details for <span data-bind="text: name"></span>,
					&nbsp;<span data-bind="text: address"></span>
					</h3>
			</div>
			<div class="nmModalBody">
				Body contents go here.
			</div>
			<div class="nmModalFooter">
				<button type="button" class="btn btn-default modalPinBtn"
					data-bind="text: pinned() ? 'Pinned' : 'Unpinned',
					click: nmApp.viewModel.pinnedClick"></button>
			</div>
		</div><!-- .nmModalContent -->
	</div> <!-- .nmModal -->

	<!-- jQuery and Knockout libraries from CDNJS via Cloudflare's CDN -->
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
	<!-- This application's processing is contained in the nmApp (neighborhood
		map application) object, which contains objects that define its Model,
		View, and ViewModel objects. -->
	<!-- 	 TODO Minify and consolidate these four scripts -->
	<script type="text/javascript" src="js/nmApp.js"></script>
	<script type="text/javascript" src="js/nmModel.js"></script>
	<script type="text/javascript" src="js/nmView.js"></script>
	<script type="text/javascript" src="js/nmViewModel.js"></script>

	<!-- Initialize Google Maps libraries. Note: must follow nmView.js
		 The callback here kicks off the entire application. -->
	<script async defer
    src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyD4TqIPvv-WwDSy7TCEeHufsQtVPws6XJs&callback=nmApp.viewModel.init"></script>
</body>
